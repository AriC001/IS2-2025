<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="${usuarioDTO.id != null} ? 'Editar Usuario' : 'Agregar Usuario'">Formulario Usuario</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="/css/styles.css" rel="stylesheet" />
  <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
  <style>
    body {
      background: linear-gradient(180deg,#071034 0%, #05102a 100%);
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    .form-panel {
      background: rgba(255,255,255,0.96);
      border-radius: 1rem;
      box-shadow: 0 8px 30px rgba(2,6,23,0.15);
      padding: 2rem 2.5rem;
      max-width: 900px;
      margin: 3rem auto;
    }
    .form-title {
      color: var(--accent-1, #6C5CE7);
      font-weight: 700;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    .btn-accent {
      background: linear-gradient(90deg,#6C5CE7,#00C2FF);
      color: white;
      font-weight: 600;
    }
    .msg {
      margin-bottom: 1rem;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="form-panel">
    <h2 class="form-title"><i class="fa-solid fa-user"></i> <span th:text="${usuarioDTO.id != null} ? 'Editar Usuario' : 'Agregar Usuario'"></span></h2>
    <form th:action="${usuarioDTO != null and usuarioDTO.id != null} ? @{/usuario/actualizar/{id}(id=${usuarioDTO.id})} : @{/usuario/crear}"
          th:object="${usuarioDTO}" method="post">
      <div th:if="${error}" class="alert alert-danger msg" th:text="${error}"></div>
      <div th:if="${success}" class="alert alert-success msg" th:text="${success}"></div>
      <div class="row mb-3">
        <div class="col-md-6 mb-3">
          <label for="nombre" class="form-label text-primary"><i class="fa-solid fa-id-card"></i> Nombre</label>
          <input type="text" id="nombre" name="nombre" th:field="*{nombre}" class="form-control border-primary" required />
        </div>
        <div class="col-md-6 mb-3">
          <label for="apellido" class="form-label text-primary"><i class="fa-solid fa-id-card"></i> Apellido</label>
          <input type="text" id="apellido" name="apellido" th:field="*{apellido}" class="form-control border-primary" required />
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6 mb-3">
          <label for="telefono" class="form-label text-primary"><i class="fa-solid fa-phone"></i> Teléfono</label>
          <input type="text" id="telefono" name="telefono" th:field="*{telefono}" class="form-control border-primary" />
        </div>
        <div class="col-md-6 mb-3">
          <label for="correoElectronico" class="form-label text-primary"><i class="fa-solid fa-envelope"></i> Correo electrónico</label>
          <input type="email" id="correoElectronico" name="correoElectronico" th:field="*{correoElectronico}" class="form-control border-primary" required />
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6 mb-3">
          <label for="nombreUsuario" class="form-label text-primary"><i class="fa-solid fa-user-tag"></i> Nombre de usuario</label>
          <input type="text" id="nombreUsuario" name="nombreUsuario" th:field="*{nombreUsuario}" class="form-control border-primary" required />
        </div>
        <div class="col-md-6 mb-3">
          <label for="contrasenia" class="form-label text-primary"><i class="fa-solid fa-key"></i> Contraseña</label>
          <input type="password" id="contrasenia" name="contrasenia" th:field="*{contrasenia}" class="form-control border-primary" required />
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <a class="btn btn-secondary" th:href="@{/usuario/listar}"><i class="fa-solid fa-arrow-left"></i> Cancelar</a>
        <button type="submit" class="btn btn-accent"><i class="fa-solid fa-check"></i> Guardar</button>
      </div>
    </form>
  </div>
</body>
</html>